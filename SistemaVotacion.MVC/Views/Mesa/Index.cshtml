@{
    ViewBag.Title = "Mesa - Buscar votante";

    int? padronId = ViewBag.PadronId as int?;
    string codigoAcceso = ViewBag.CodigoAcceso as string;
    bool mostrarVentanaCodigo = ViewBag.MostrarVentanaCodigo ?? false;
}

<link rel="stylesheet" href="~/css/Mesa.css" />

<div class="mesa-container">
    <div class="mesa-card">
        <h2>Buscar votante</h2>

        <form asp-controller="Mesa" asp-action="BuscarVotante" method="post" class="mesa-form">
            <input type="text" id="numeroIdentificacion" name="numeroIdentificacion"
                   placeholder="Cédula" required />
            <button type="submit">BUSCAR</button>
        </form>

        @if (ViewBag.Error != null)
        {
            <div class="alert error">
                @ViewBag.Error
            </div>
        }

        @if (ViewBag.YaVoto == true)
        {
            <div class="mesa-alert mesa-warn">
                <strong>⚠️ Usuario ya votó</strong><br />
                Este ciudadano ya ejerció su derecho al voto y no puede votar nuevamente.
            </div>
        }

        @if (padronId.HasValue)
        {
            <form asp-controller="Mesa" asp-action="Habilitar" method="post" class="mesa-habilitar">
                <input type="hidden" name="padronId" value="@padronId.Value" />
                <button type="submit" class="btn-ok">HABILITAR</button>
            </form>
        }
    </div>
</div>